# 專題進度討論
> 2022/09/28 建立此檔，編輯:沈
> create :22/09/28
> Edited : 22/10/05

# 程式主體(10/05新增)
沒精簡化,分割出專題使用版本,目前都是混和練習版在其中
代完工 (完成將使用刪除線表示)
- 分割主體
- 合併核心功能程式到bot主程式
- 核心功能 json檔案的資料夾未決定


# 網頁爬蟲

## poe.ninja(流派網頁)

### 10/05版 進度
完成部分
- 將txt轉換成json
未進行部分
- 程式合併json做使用者輸入檢查,跟模糊輸入(?)查詢

### 我是分割文字的標題

部分功能完工,剩下檢查輸入內容的簡易檢查與比對,以及內容英翻中。
完工部分
1. 指令項查詢大致程式碼已經完成,接下來就是轉成關鍵字的觸發形式
2. 如果沒有任何查詢內容輸入會提示使用者要至少輸入一項
3. 一的延續,目前使用特定格式,如後續Log類功能開發完成,就可以不用一次性用固定格式發出


## 詞墜網頁

### 10/05版 進度
完成部分
- 新增ID_fix.json
	- 完成大略分類(總計45大類)
- 測試輸出到discord效果
未進行部分
- 與查詢程式合併製作檢查輸入。模糊搜尋與大類內部細分
- 合併至discord主程式中測試與應用

### 進度
1. 用模擬使用者操作的形式(Selenium套件),去達成幫使用者執行平常對該網頁的操作
2. 回傳部分在想方設法中
	- 目前暫且使用全截圖的方案,並且分成幾個圖檔做依序查看的動作
	- 另一個方案雖然也是截圖,但先去抓取小內容標題區域,並將該區截圖儲存後
	與該區標題名稱相同,並將所有小區標題做一個list回傳,可以選擇想看的標題區域圖




## 裝備查詢

### 10/05版 進度

無,撰寫者當天忘了詢問與查看,忙著實現其他部分
因此無法寫入任何進度方向
但下方進度的第3向尚未完成

### 進度
1. 選單內容物抓取,並儲存
2. 可抓取選單內內容,並點擊需求選項後查詢
3. 尚未合併至discord bot中,且未完成
4. 選單內容物列表待製作

### 裝備查詢製作方向
大方向分為2類
1. 選單類
	- 全做
2. 輸入類
	- 拆分成 可能常用與不常用



## 園藝網頁
### 廢除


## 人性化查詢

### 10/05版 進度
未完成
- 新版格式Log 的程式寫入還沒實作
- 如何有效的利用 想法還沒出現
- 檔名的命名方式、檔案的有效期限長短、是否歸檔超出有效期限的檔案

### Log部分
1. 純紀錄的方式已經實現出來,但不能將其應用
2. 正在盡可能的最佳化儲存格式,新的格式已經構思好,正在投入應用中,取代舊儲存法
3. 以下為新舊的格式比較

舊版利用當下發訊息的時間唯一性作為key的一部分儲存至json
但這種格式非常不方便做讀取

``` json
{
    	"968372079713996821-2022-08-22 14:10:53.993516": "sec log傳送 json寫入 測試",
    	"(訊息發送者ID)-(日期) (時間)": "(訊息內容)"
}
```

新版
```
{
	群組name/id>
		{
			接收訊息頻道id>
				{
					發送訊息該訊息的使用者name/id>
						訊息類別(關鍵字觸發)>
							{
								訊息name1
								關鍵字1屬性
							},
							{
								訊息name2
								關鍵字2屬性
							},
				},
				{
					發送訊息該訊息的使用者2 name/id>
						.....以此類推擴充格式>
				}
		},
		{
			接收訊息頻道id2>......以此類推擴充格式
		}
},
{
	群組2....以此類推擴充格式
}
```

2.新版本 對應程式版本
``` json
{
    "discordGulidLog": [
        {
            "guild-name": "",
            "guild-id": "",
            "info": [
                {
                    "channel-id": "1",
                    "channel-name": "",
                    "message": [
                        {
                            "user-id": "1",
                            "user-name": "",
                            "info": [
                                {
                                    "type": "1",
                                    "attribute": {
                                        "skill=": "",
                                        "item=": "",
                                        "skillmode=": "",
                                        "keystone=": "",
                                        "allskill=": "",
                                        "weapon=": ""
                                    }
                                },
                                {
                                    "type": "2",
                                    "attribute": {}
                                }
                            ]
                        },
                        {
                            "user-id": "1",
                            "user-name": "......"
                        }
                    ]
                },
                {
                    "channel-id": "2",
                    "............": ""
                }
            ]
        },
        {
            "guild-name": "2",
            "same": "......."
        }
    ]
}
```



